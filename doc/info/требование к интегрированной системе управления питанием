# Техническое задание 
## на разработку подсистемы управления питанием материнской платы Кубсата

---

### 1. Наименование и область применения

**1.1. Наименование:** Подсистема управления и мониторинга питания (ПУМП) материнской платы  
**1.2. Область применения:** Подсистема является интегрированной частью материнской (системной) платы малого космического аппарата формата "Кубсат". Предназначена для централизованного управления подачей питания +5В на слоты подключения нагрузочных модулей.

---

### 2. Основание для разработки

Основанием для разработки является необходимость реализации единой системы управления электропитанием на материнской плате Кубсата, обеспечивающей координацию работы всех нагрузочных модулей и соответствие требованиям надежности космической аппаратуры.

---

### 3. Цель и назначение разработки

**3.1. Цель разработки:** Создание интегрированной системы управления питанием с централизованным контролем и координацией работы всех нагрузочных модулей  
**3.2. Назначение:**
- Централизованное управление питанием нагрузок от контроллера материнской платы
- Координация последовательностей включения/выключения модулей
- Мониторинг энергопотребления системы в реальном времени
- Оптимизация энергобаланса аппарата
- Защита бортовой сети от неисправностей нагрузочных модулей
- Обеспечение радиационной стойкости системы питания

---

### 4. Технические требования

#### 4.1. Электрические параметры

**4.1.1. Входная шина питания:**
- Первичное напряжение: **+5 В ±5%** (от стабилизатора платы)
- Общий максимальный ток: **определяется нагрузкой на слоты**
- Собственное потребление подсистемы в выключенном состоянии: **≤ 100 мкА**

**4.1.2. Выходные каналы питания:**
- Количество независимых каналов: **не менее 4**
- Напряжение на каждом канале: **+5 В ±5%**
- Номинальный ток на канал: **до 1 А**
- Пиковый ток на канал (кратковременно): **до 1.5 А**
- Суммарный ток всех каналов: **ограничен схемой материнской платы**
- Падение напряжения в открытом состоянии: **≤ 150 мВ** при токе 1 А
- Ток утечки в выключенном состоянии: **≤ 10 мкА**

**4.1.3. Интерфейс управления:**
- Управление через **единый контроллер материнской платы**
- Основной интерфейс связи: **I2C** (100 кГц/400 кГц)
- Резервный интерфейс: **SPI** (до 1 МГц)
- Уровни логики: **3.3 В**
- Адресация в общей карте адресов материнской платы

#### 4.2. Функциональные требования

**4.2.1. Централизованное управление:**
- Программное управление последовательностью включения/выключения каналов
- Создание групп питания с программируемыми временными задержками (1-1000 мс)
- Централизованное управление режимами энергосбережения
- Единая система обработки аварийных ситуаций
- Приоритетное управление критическими системами

**4.2.2. Защита (реализуется для каждого канала):**
- **Защита от перегрузки и КЗ:**
  - Порог срабатывания: программируемый, **1.0 - 1.5 А**
  - Время реакции: **≤ 100 мкс**
  - Режим восстановления: программируемый (защелка/авто-повтор)
  - Задержка авто-повтора: программируемая, **1-60 сек**
- **Ограничение броска тока (Inrush Current Limiting):**
  - Максимальный ток заряда: **≤ 1.5 А**
  - Время нарастания: программируемое, **1 - 100 мс** (требует уточнения)
- **Защита от обратных токов**
- **Защита от переполюсовки** (опционально)

**4.2.3. Мониторинг и диагностика:**
- **Статус канала:** Вкл/Выкл/Авария/Перегрузка
- **Ток потребления:** 
  - Разрешение: **≥ 10 мА**
  - Точность: **±5%** во всем диапазоне
  - Частота обновления: **≥ 10 Гц**
- **Выходное напряжение:** 
  - Точность: **±3%**
  - Разрешение: **≥ 20 мВ**
- **Температура ключевых компонентов:**
  - Точность: **±3°C**
  - Диапазон: **-40°C ... +125°C**
- **Флаги аварий:** Перегрузка, КЗ, ошибка управления, перегрев
- **Счетчики событий:** включений, срабатываний защиты, ошибок

#### 4.3. Требования к радиационной стойкости

**4.3.1. Стойкость к полной поглощенной дозе (TID):**
- Уровень стойкости: **≥ 20 крад (Si)**
- Сохранение функциональности после накопления дозы
- Допустимая деградация параметров: **≤ 20%**

**4.3.2. Стойкость к одиночным сбоям (SEE):**
- **SEL (защелкивание):** 
  - Порог LET: **≥ 75 МэВ·см²/мг**
  - Защита от разрушающих защелкиваний
- **SEU (сбой):**
  - Защита ECC/TMR для критических регистров
  - Watchdog-таймер для восстановления при сбоях
- **SEFI (функциональный перерыв):**
  - Время восстановления: **≤ 1 сек**
- **SET (транзиентные помехи):**
  - Фильтрация аналоговых сигналов
  - Защита от дребезга цифровых сигналов

**4.3.3. Компонентная база:**
- Предпочтение компонентам с квалификацией:
  - **QML Class V/Y** - высший приоритет
  - **Automotive AEC-Q100 Grade 1** - допустимо при подтверждении радиационной стойкости
- Запрет на использование BGA-корпусов
- Рекомендуемые корпуса: **LQFP, TQFP, SOIC, DFN/QFN**

#### 4.4. Требования к интеграции в материнскую плату

**4.4.1. Тепловой режим:**
- Максимальная температура компонентов: **≤ +125°C**
- Эффективный отвод тепла на системный радиатор
- Термоконтроль ключевых элементов
- Запас по температуре: **≥ 15°C** от максимальной

**4.4.2. Электромагнитная совместимость:**
- Разделение аналоговых и цифровых земель
- Защита аналоговых цепей от цифровых помех
- Развязывающие конденсаторы у каждой нагрузки:
  - Керамические: **100 нФ**
  - Танталовые: **10-100 мкФ**
- Экранирование чувствительных цепей

**4.4.3. Конструктивные требования:**
- **Компонентная база:** корпуса для поверхностного монтажа
- **Размещение:** группировка в отдельном секторе платы
- **Силовые дорожки:** 
  - Ширина: расчетная с запасом **≥ 30%**
  - Толщина меди: **≥ 35 мкм**
- **Конformalное покрытие:** акрильное или полиуретановое

---

### 5. Программные требования

#### 5.1. Прошивка контроллера управления

**5.1.1. Базовый функционал:**
- Единый алгоритм управления всеми каналами
- Централизованная обработка прерываний
- Управление энергопотреблением системы
- Обработка аварийных ситуаций

**5.1.2. Расширенные функции:**
- **Последовательности запуска:** программируемые сценарии включения
- **Приоритеты систем:** управление критическими нагрузками
- **Энергопотребление:** ведение статистики и прогнозирование
- **Диагностика:** самопроверка и тестирование каналов

**5.1.3. Надежность ПО:**
- Watchdog-таймер с аппаратным сбросом
- Контроль целостности памяти (CRC)
- Ведение журнала событий
- Резервные алгоритмы управления

#### 5.2. Интерфейсы связи

**5.2.1. API для основного процессора:**
- Стандартизированный набор команд
- Чтение телеметрии в реальном времени
- Управление режимами работы
- Диагностика и обслуживание

**5.2.2. Форматы данных:**
- Стандартизированные форматы телеметрии
- Структурированные журналы событий
- Калибровочные коэффициенты
- Конфигурационные параметры

**5.2.3. Протоколы обслуживания:**
- Обновление прошивки
- Калибровка измерительных каналов
- Тестирование функциональности
- Диагностика неисправностей

---

### 6. Требования к надежности

#### 6.1. Показатели надежности

- Наработка на отказ (MTBF): **≥ 100 000 часов**
- Вероятность безотказной работы (за 3 года): **≥ 0.95**
- Срок активного существования: **≥ 3 лет**

#### 6.2. Эксплуатационные требования

- Рабочий температурный диапазон: **-40°C ... +85°C**
- Стойкость к вибрациям:
  - Частота: **20-2000 Гц**
  - Ускорение: **до 20 g**
- Стойкость к ударам: **до 100 g**, длительность 11 мс
- Влажность: **0-100%** (без конденсата)

#### 6.3. Резервирование и отказоустойчивость

- Резервирование критических цепей управления
- Автоматическое переключение на резервные алгоритмы
- Сохранение работоспособности при одиночных отказах
- Изоляция неисправных каналов

---

### 7. Требования к испытаниям

#### 7.1. Виды испытаний

**7.1.1. Электрические испытания:**
- Проверка параметров в нормальных условиях
- Испытания в предельных условиях
- Проверка защитных функций
- Измерение потребления

**7.1.2. Климатические испытания:**
- Термоциклирование: **5 циклов (-40°C...+85°C)**
- Термовакуумные испытания: **3 цикла в вакууме**
- Влагостойкость (для наземных испытаний)

**7.1.3. Механические испытания:**
- Вибрационные испытания по осям X, Y, Z
- Испытания на ударную стойкость
- Акустические испытания (при необходимости)

**7.1.4. Радиационные испытания:**
- Испытания на стойкость к TID (на образцах)
- Испытания на SEE (на образцах)

#### 7.2. Критерии приемки

- Соответствие всем электрическим параметрам
- Отсутствие деградации после испытаний
- Сохранение функциональности в предельных условиях
- Соответствие требованиям надежности

---

### 8. Состав и содержание работ

#### 8.1. Этапы разработки

1. **Анализ и проектирование:**
   - Разработка принципиальной схемы
   - Моделирование ключевых узлов
   - Разработка алгоритмов управления

2. **Конструкторская документация:**
   - Разводка печатной платы в составе материнской платы
   - Разработка конструкторской документации
   - Подготовка производственных файлов

3. **Программное обеспечение:**
   - Разработка прошивки для контроллера управления
   - Создание тестового ПО
   - Разработка диагностических утилит

4. **Изготовление и отладка:**
   - Изготовление опытного образца
   - Отладка и тестирование
   - Квалификация компонентов

5. **Испытания:**
   - Предварительные испытания
   - Квалификационные испытания
   - Приемочные испытания
