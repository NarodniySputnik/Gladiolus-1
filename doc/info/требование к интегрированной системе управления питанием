Technical Specifications

for the Development of a Motherboard Power Management Subsystem

---

1. Name and Scope of Application

1.1. Name: Power Management and Monitoring Subsystem (PMMS) of the Motherboard
1.2. Scope of Application: The subsystem is an integrated part of the motherboard (system board) of a small spacecraft. Designed for centralized management of +5V power supply to payload module connection slots.

---

2. Basis for Development

The basis for development is the necessity to implement a unified power management system on the motherboard, ensuring coordination of all payload modules and compliance with the reliability requirements of space equipment.

---

3. Purpose and Objective of the Development

3.1. Development Objective: Creation of an integrated power management system with centralized control and coordination of all payload modules.
3.2. Purpose:

· Centralized control of payload power from the motherboard controller
· Coordination of module power-on/power-off sequences
· Real-time monitoring of system power consumption
· Optimization of the spacecraft's energy balance
· Protection of the onboard power network from payload module failures
· Ensuring radiation hardness of the power system

---

4. Technical Requirements

4.1. Electrical Parameters

4.1.1. Input Power Bus:

· Input voltage range: 3.2 V ... 8.4 V (from Li-ion batteries or the Electrical Power System)
· Maximum input current: ≤ 1 A (limitation of consumption from the primary source)
· Nominal operating voltage for the subsystem: +5 V ±5% (after internal regulator)
· Subsystem's own consumption in the off state: ≤ 100 µA
· Input Overvoltage Protection: automatic shutdown at voltage > 9.0 V
· Undervoltage Protection: shutdown at voltage < 3.0 V
· Input Reverse Polarity Protection:
  · Operational capability under reverse polarity: up to -12 V
  · Leakage current under reverse polarity: ≤ 10 µA
  · Protection response time: ≤ 1 µs
  · Automatic recovery after reverse polarity elimination

4.1.2. Output Power Channels:

· Number of independent channels: at least 4
· Voltage on each channel: +5 V ±5%
· Nominal current per channel: up to 1 A
· Peak current per channel (short-term): up to 1.5 A
· Total current of all channels: limited by the 1 A input limiter
· Voltage drop in the on-state: ≤ 150 mV at 1 A current
· Leakage current in the off state: ≤ 10 µA
· Conversion efficiency (input 3.2-8.4V → output 5V): ≥ 85% at 0.5A load

4.1.3. Control Interface:

· Control via a unified motherboard controller
· Primary communication interface: I2C (100 kHz/400 kHz)
· Backup interface: SPI (up to 1 MHz)
· Logic levels: 3.3 V
· Addressing within the common motherboard address map

4.2. Functional Requirements

4.2.1. Centralized Control:

· Software control of channel power-on/power-off sequence
· Creation of power groups with programmable time delays (1-1000 ms)
· Centralized control of power-saving modes
· Unified system for emergency situation handling
· Priority control of critical systems
· Dynamic limitation of total consumption within 1A from the input

4.2.2. Protection (implemented for each channel):

· Overload and Short-Circuit Protection:
  · Trigger threshold: programmable, 1.0 - 1.5 A
  · Response time: ≤ 100 µs
  · Recovery mode: programmable (latch-off/auto-retry)
  · Auto-retry delay: programmable, 1-60 sec
· Inrush Current Limiting:
  · Maximum charge current: ≤ 1.5 A
  · Rise time: programmable, 1 - 100 ms
· Reverse Current Protection
· Output Load Reverse Polarity Protection:
  · Protection against reverse connection of the load
  · Current limitation under reverse polarity: ≤ 100 mA
  · Automatic channel shutdown upon detection of reverse polarity
  · Event logging in the error journal

4.2.3. Monitoring and Diagnostics:

· Channel Status: On/Off/Fault/Overload/Reverse Polarity
· Consumption Current:
  · Resolution: ≥ 10 mA
  · Accuracy: ±5% across the entire range
  · Update rate: ≥ 10 Hz
· Output Voltage:
  · Accuracy: ±3%
  · Resolution: ≥ 20 mV
· Input Voltage:
  · Accuracy: ±2%
  · Resolution: ≥ 50 mV
· Temperature of Key Components:
  · Accuracy: ±3°C
  · Range: -40°C ... +125°C
· Fault Flags: Overload, Short Circuit, Control Error, Overheat, Input/Output Reverse Polarity
· Event Counters: power-on cycles, protection triggers, reverse polarity errors

4.3. Radiation Hardness Requirements

4.3.1. Total Ionizing Dose (TID) Tolerance:

· Tolerance level: ≥ 20 krad (Si)
· Preservation of functionality after dose accumulation
· Allowable parameter degradation: ≤ 20%

4.3.2. Single Event Effects (SEE) Tolerance:

· SEL (Latch-up):
  · LET threshold: ≥ 75 MeV·cm²/mg
  · Protection against destructive latch-ups
· SEU (Upset):
  · ECC/TMR protection for critical registers
  · Watchdog timer for recovery from upsets
· SEFI (Functional Interrupt):
  · Recovery time: ≤ 1 sec
· SET (Transient):
  · Analog signal filtering
  · Protection against digital signal bounce

4.3.3. Component Base:

· Preference for components with qualification:
  · QML Class V/Y - highest priority
  · Automotive AEC-Q100 Grade 1 - acceptable with confirmed radiation hardness
· Prohibition on using BGA packages
· Recommended packages: LQFP, TQFP, SOIC, DFN/QFN

4.4. Integration Requirements for the Motherboard

4.4.1. Thermal Regime:

· Maximum component temperature: ≤ +125°C
· Effective heat dissipation to the system radiator
· Thermal control of key elements
· Temperature margin: ≥ 15°C from maximum

4.4.2. Electromagnetic Compatibility:

· Separation of analog and digital grounds
· Protection of analog circuits from digital noise
· Decoupling capacitors near each load:
  · Ceramic: 100 nF
  · Tantalum: 10-100 µF
· Shielding of sensitive circuits

4.4.3. Constructive Requirements:

· Component Base: Surface-mount packages
· Placement: Grouping in a separate board sector
· Power Traces:
  · Width: calculated with a margin of ≥ 30%
  · Copper thickness: ≥ 35 µm
· Conformal Coating: Acrylic or polyurethane

---

5. Software Requirements

5.1. Management Controller Firmware

5.1.1. Basic Functionality:

· Unified algorithm for controlling all channels
· Centralized interrupt handling
· System power consumption management
· Emergency situation handling

5.1.2. Advanced Functions:

· Startup Sequences: programmable startup scenarios
· System Priorities: management of critical loads
· Power Consumption: statistics keeping and forecasting
· Diagnostics: self-test and channel testing

5.1.3. Software Reliability:

· Watchdog timer with hardware reset
· Memory integrity check (CRC)
· Event logging
· Backup control algorithms

5.2. Communication Interfaces

5.2.1. API for Main Processor:

· Standardized command set
· Reading real-time telemetry
· Managing operational modes
· Diagnostics and maintenance

5.2.2. Data Formats:

· Standardized telemetry formats
· Structured event logs
· Calibration coefficients
· Configuration parameters

5.2.3. Service Protocols:

· Firmware update
· Calibration of measurement channels
· Functionality testing
· Fault diagnostics

---

6. Reliability Requirements

6.1. Reliability Metrics

· Mean Time Between Failures (MTBF): ≥ 100,000 hours
· Probability of failure-free operation (over 3 years): ≥ 0.95
· Active lifetime: ≥ 3 years

6.2. Operational Requirements

· Operating temperature range: -40°C ... +85°C
· Vibration resistance:
  · Frequency: 20-2000 Hz
  · Acceleration: up to 20 g
· Shock resistance: up to 100 g, duration 11 ms
· Humidity: 0-100% (without condensation)

6.3. Redundancy and Fault Tolerance

· Redundancy of critical control circuits
· Automatic switching to backup algorithms
· Maintaining operability with single faults
· Isolation of faulty channels

---

7. Testing Requirements

7.1. Test Types

7.1.1. Electrical Tests:

· Parameter verification under normal conditions
· Testing under extreme conditions
· Verification of protection functions
· Consumption measurement
· Reverse Polarity Tests: verification of protection under reverse connection of ±12V

7.2. Acceptance Criteria

· Conformance to all electrical parameters
· Absence of degradation after testing
· Preservation of functionality under extreme conditions
· Conformance to reliability requirements
· Successful passing of reverse polarity tests without damage

---

8. Scope and Content of Work

8.1. Development Stages

1. Analysis and Design:
   · Development of the schematic diagram
   · Modeling of key nodes
   · Development of control algorithms
2. Design Documentation:
   · PCB layout as part of the motherboard
   · Development of design documentation
   · Preparation of manufacturing files
3. Software:
   · Development of firmware for the management controller
   · Creation of test software
   · Development of diagnostic utilities
4. Manufacturing and Debugging:
   · Manufacturing of a prototype
   · Debugging and testing
   · Component qualification
5. Testing:
   · Preliminary tests
   · Qualification tests
   · Acceptance tests

# Техническое задание 
## на разработку подсистемы управления питанием материнской платы

---

### 1. Наименование и область применения

**1.1. Наименование:** Подсистема управления и мониторинга питания (ПУМП) материнской платы  
**1.2. Область применения:** Подсистема является интегрированной частью материнской (системной) платы малого космического аппарата. Предназначена для централизованного управления подачей питания +5В на слоты подключения нагрузочных модулей.

---

### 2. Основание для разработки

Основанием для разработки является необходимость реализации единой системы управления электропитанием на материнской плате, обеспечивающей координацию работы всех нагрузочных модулей и соответствие требованиям надежности космической аппаратуры.

---

### 3. Цель и назначение разработки

**3.1. Цель разработки:** Создание интегрированной системы управления питанием с централизованным контролем и координацией работы всех нагрузочных модулей  
**3.2. Назначение:**
- Централизованное управление питанием нагрузок от контроллера материнской платы
- Координация последовательностей включения/выключения модулей
- Мониторинг энергопотребления системы в реальном времени
- Оптимизация энергобаланса аппарата
- Защита бортовой сети от неисправностей нагрузочных модулей
- Обеспечение радиационной стойкости системы питания

---

### 4. Технические требования

#### 4.1. Электрические параметры

**4.1.1. Входная шина питания:**
- Диапазон входных напряжений: **3.2 В ... 8.4 В** (от Li-ion аккумуляторов или системы электропитания)
- Максимальный входной ток: **≤ 1 А** (ограничение потребления от первичного источника)
- Номинальное напряжение для работы подсистемы: **+5 В ±5%** (после внутреннего стабилизатора)
- Собственное потребление подсистемы в выключенном состоянии: **≤ 100 мкА**
- **Защита от перенапряжения на входе:** автоматическое отключение при напряжении **> 9.0 В**
- **Защита от пониженного напряжения:** отключение при напряжении **< 3.0 В**
- **Защита от переполюсовки входного питания:**
  - Работоспособность при обратной полярности: **до -12 В**
  - Ток утечки при обратной полярности: **≤ 10 мкА**
  - Время срабатывания защиты: **≤ 1 мкс**
  - Автоматическое восстановление после устранения переполюсовки

**4.1.2. Выходные каналы питания:**
- Количество независимых каналов: **не менее 4**
- Напряжение на каждом канале: **+5 В ±5%**
- Номинальный ток на канал: **до 1 А**
- Пиковый ток на канал (кратковременно): **до 1.5 А**
- Суммарный ток всех каналов: **ограничен входным ограничителем 1 А**
- Падение напряжения в открытом состоянии: **≤ 150 мВ** при токе 1 А
- Ток утечки в выключенном состоянии: **≤ 10 мкА**
- **Эффективность преобразования** (вход 3.2-8.4В → выход 5В): **≥ 85%** при нагрузке 0.5А

**4.1.3. Интерфейс управления:**
- Управление через **единый контроллер материнской платы**
- Основной интерфейс связи: **I2C** (100 кГц/400 кГц)
- Резервный интерфейс: **SPI** (до 1 МГц)
- Уровни логики: **3.3 В**
- Адресация в общей карте адресов материнской платы

#### 4.2. Функциональные требования

**4.2.1. Централизованное управление:**
- Программное управление последовательностью включения/выключения каналов
- Создание групп питания с программируемыми временными задержками (1-1000 мс)
- Централизованное управление режимами энергосбережения
- Единая система обработки аварийных ситуаций
- Приоритетное управление критическими системами
- **Динамическое ограничение суммарного потребления** в пределах 1А от входа

**4.2.2. Защита (реализуется для каждого канала):**
- **Защита от перегрузки и КЗ:**
  - Порог срабатывания: программируемый, **1.0 - 1.5 А**
  - Время реакции: **≤ 100 мкс**
  - Режим восстановления: программируемый (защелка/авто-повтор)
  - Задержка авто-повтора: программируемая, **1-60 сек**
- **Ограничение броска тока (Inrush Current Limiting):**
  - Максимальный ток заряда: **≤ 1.5 А**
  - Время нарастания: программируемое, **1 - 100 мс**
- **Защита от обратных токов**
- **Защита от переполюсовки выходной нагрузки:**
  - Защита от обратного подключения нагрузки
  - Ограничение тока при переполюсовке: **≤ 100 мА**
  - Автоматическое отключение канала при обнаружении переполюсовки
  - Фиксация события в журнале ошибок

**4.2.3. Мониторинг и диагностика:**
- **Статус канала:** Вкл/Выкл/Авария/Перегрузка/Переполюсовка
- **Ток потребления:** 
  - Разрешение: **≥ 10 мА**
  - Точность: **±5%** во всем диапазоне
  - Частота обновления: **≥ 10 Гц**
- **Выходное напряжение:** 
  - Точность: **±3%**
  - Разрешение: **≥ 20 мВ**
- **Входное напряжение:**
  - Точность: **±2%**
  - Разрешение: **≥ 50 мВ**
- **Температура ключевых компонентов:**
  - Точность: **±3°C**
  - Диапазон: **-40°C ... +125°C**
- **Флаги аварий:** Перегрузка, КЗ, ошибка управления, перегрев, переполюсовка входа/выхода
- **Счетчики событий:** включений, срабатываний защиты, ошибок переполюсовки

#### 4.3. Требования к радиационной стойкости

**4.3.1. Стойкость к полной поглощенной дозе (TID):**
- Уровень стойкости: **≥ 20 крад (Si)**
- Сохранение функциональности после накопления дозы
- Допустимая деградация параметров: **≤ 20%**

**4.3.2. Стойкость к одиночным сбоям (SEE):**
- **SEL (защелкивание):** 
  - Порог LET: **≥ 75 МэВ·см²/мг**
  - Защита от разрушающих защелкиваний
- **SEU (сбой):**
  - Защита ECC/TMR для критических регистров
  - Watchdog-таймер для восстановления при сбоях
- **SEFI (функциональный перерыв):**
  - Время восстановления: **≤ 1 сек**
- **SET (транзиентные помехи):**
  - Фильтрация аналоговых сигналов
  - Защита от дребезга цифровых сигналов

**4.3.3. Компонентная база:**
- Предпочтение компонентам с квалификацией:
  - **QML Class V/Y** - высший приоритет
  - **Automotive AEC-Q100 Grade 1** - допустимо при подтверждении радиационной стойкости
- Запрет на использование BGA-корпусов
- Рекомендуемые корпуса: **LQFP, TQFP, SOIC, DFN/QFN**

#### 4.4. Требования к интеграции в материнскую плату

**4.4.1. Тепловой режим:**
- Максимальная температура компонентов: **≤ +125°C**
- Эффективный отвод тепла на системный радиатор
- Термоконтроль ключевых элементов
- Запас по температуре: **≥ 15°C** от максимальной

**4.4.2. Электромагнитная совместимость:**
- Разделение аналоговых и цифровых земель
- Защита аналоговых цепей от цифровых помех
- Развязывающие конденсаторы у каждой нагрузки:
  - Керамические: **100 нФ**
  - Танталовые: **10-100 мкФ**
- Экранирование чувствительных цепей

**4.4.3. Конструктивные требования:**
- **Компонентная база:** корпуса для поверхностного монтажа
- **Размещение:** группировка в отдельном секторе платы
- **Силовые дорожки:** 
  - Ширина: расчетная с запасом **≥ 30%**
  - Толщина меди: **≥ 35 мкм**
- **Конformalное покрытие:** акрильное или полиуретановое

---

### 5. Программные требования

#### 5.1. Прошивка контроллера управления

**5.1.1. Базовый функционал:**
- Единый алгоритм управления всеми каналами
- Централизованная обработка прерываний
- Управление энергопотреблением системы
- Обработка аварийных ситуаций

**5.1.2. Расширенные функции:**
- **Последовательности запуска:** программируемые сценарии включения
- **Приоритеты систем:** управление критическими нагрузками
- **Энергопотребление:** ведение статистики и прогнозирование
- **Диагностика:** самопроверка и тестирование каналов

**5.1.3. Надежность ПО:**
- Watchdog-таймер с аппаратным сбросом
- Контроль целостности памяти (CRC)
- Ведение журнала событий
- Резервные алгоритмы управления

#### 5.2. Интерфейсы связи

**5.2.1. API для основного процессора:**
- Стандартизированный набор команд
- Чтение телеметрии в реальном времени
- Управление режимами работы
- Диагностика и обслуживание

**5.2.2. Форматы данных:**
- Стандартизированные форматы телеметрии
- Структурированные журналы событий
- Калибровочные коэффициенты
- Конфигурационные параметры

**5.2.3. Протоколы обслуживания:**
- Обновление прошивки
- Калибровка измерительных каналов
- Тестирование функциональности
- Диагностика неисправностей

---

### 6. Требования к надежности

#### 6.1. Показатели надежности

- Наработка на отказ (MTBF): **≥ 100 000 часов**
- Вероятность безотказной работы (за 3 года): **≥ 0.95**
- Срок активного существования: **≥ 3 лет**

#### 6.2. Эксплуатационные требования

- Рабочий температурный диапазон: **-40°C ... +85°C**
- Стойкость к вибрациям:
  - Частота: **20-2000 Гц**
  - Ускорение: **до 20 g**
- Стойкость к ударам: **до 100 g**, длительность 11 мс
- Влажность: **0-100%** (без конденсата)

#### 6.3. Резервирование и отказоустойчивость

- Резервирование критических цепей управления
- Автоматическое переключение на резервные алгоритмы
- Сохранение работоспособности при одиночных отказах
- Изоляция неисправных каналов

---

### 7. Требования к испытаниям

#### 7.1. Виды испытаний

**7.1.1. Электрические испытания:**
- Проверка параметров в нормальных условиях
- Испытания в предельных условиях
- Проверка защитных функций
- Измерение потребления
- **Испытания на переполюсовку:** проверка защиты при обратном подключении ±12В

#### 7.2. Критерии приемки

- Соответствие всем электрическим параметрам
- Отсутствие деградации после испытаний
- Сохранение функциональности в предельных условиях
- Соответствие требованиям надежности
- **Успешное прохождение испытаний на переполюсовку** без повреждений

---

### 8. Состав и содержание работ

#### 8.1. Этапы разработки

1. **Анализ и проектирование:**
   - Разработка принципиальной схемы
   - Моделирование ключевых узлов
   - Разработка алгоритмов управления

2. **Конструкторская документация:**
   - Разводка печатной платы в составе материнской платы
   - Разработка конструкторской документации
   - Подготовка производственных файлов

3. **Программное обеспечение:**
   - Разработка прошивки для контроллера управления
   - Создание тестового ПО
   - Разработка диагностических утилит

4. **Изготовление и отладка:**
   - Изготовление опытного образца
   - Отладка и тестирование
   - Квалификация компонентов

5. **Испытания:**
   - Предварительные испытания
   - Квалификационные испытания
   - Приемочные испытания
