# Проект Gladiolus-1 (Народный Спутник)
<div align="center"><img src="https://raw.githubusercontent.com/NarodniySputnik/Gladiolus-1/refs/heads/main/doc/img/logo.png"></div>

## Назначение модуля
Gladiolus-1 - автономный модуль для приема и передачи изображений в формате SSTV (Slow Scan Television) на малом космическом аппарате (МКА) формата CubeSat

## Структура директорий
- doc - Документы
	- ds - Технические спецификации
	- img - Изображения
	- info - Информация
	- ref - Референсы и примеры
- firmware - Прошивки
- hardware - Печатные платы и схемы
	- library - Библиотеки KiCad
- software - Программы

## Основные требования

### Функциональные требования
- Автономная работа независимо от основных систем МКА-носителя
- Прием изображений и команд с Земли через командную радиолинию (протокол транспортного уровня AX25, модуляция FSK)
- Передача изображений в формате SSTV
- Возможность подключения камеры для съемки изображений: предполагается камера и возможность работать без камеры
- Хранение изображений в накопителе MicroSD по SPI. Доступ к накопителю имеет SSTV модулятор

- Поддержка различных режимов SSTV
- Телеметрия и статус системы по отдельному каналу (возможно и через SSTV передатчик; свой статус будет сообщать SSTV часть как отдельная сущность)
- Программное формирование SSTV сигналов

#### Электропитание
- Напряжение: 3.2V-4.2V; 6.4V-8.4V
- Потребляемый ток: < 1А
- Используемый LDO: REG03

#### Функциональное деление
- Антенный блок 
- Модемный блок
- SSTV блок
- БЦВМ блок
- Материнский блок 

#### Модуль SSTV
 - Обслуживает бортовой накопитель
 - Делает снимки камерой
 - Изменяет режимы камеры
 - Управляет SSTV передатчиком
 - Несет на борту часы реального времени с будильником

#### Модемный блок (2 штуки)
- Приемопередатчики SX1278 и модули МШУ / усилителя мощности
- Радиомодули SX1278 работают как SSTV передатчик принимая команды от SSTV модуля
- ЧМ модуляция для SSTV (438 MHz)
- Цифровая радиолиния для команд (435 MHz)
- Содержит термодатчики 1-Wire
- Содержит 2 интерфейса RS-485 c протоколом AX.25
- Содержит управляемые стабилизаторы питания
- Содержит преобразователь питания усилителя мощности
- Содержит контроль напряжения питания узлов модемного блока 

#### БЦВМ блок
- Raspberry Pi Zero 
- Настраивается на минимальную частоту
- Отключается USB, HDMI
- В случае необходимости управляет передатчиком как SSTV модулятор

#### Материнский блок
- Формирует напряжение питания из бортовой сети
- Подает питание 5в на модули с помощью ключей и управляемых стабилизаторов
- Мониторинг температур, токов потребления, статусов устройств, датчиков, и логических уровней по шине 1-Wire, обеспечивает питание устройств на шине
- Аварийное и плановое выключение питания с помощью управляемых предохранителей
- Отвечает за формирование телеметрии
- Содержит аппаратный ватчдог, обеспечивающий холодную перезагрузку модуля по питанию
- Содержит гипервизор питания обеспечивающий запуск модуля в допустимых диапазонах питающего напряжения (**УТОЧНИТЬ!!!**)
- Содержит счетчик перезагрузок
- Содержит апартный интерфейс 1-Wire
- Содержит 2 интерфейса RS-485 с протоколом AX.25 для взаимодействия с остальными блоками
- Содержит необходимое количество 40-PIN разъемов для подключения дополнительных блоков
  
#### Механические требования
- Объем: 1U CubeSat
- Количество плат: 3-4

#### Общее функционирование
- Принятый пакет адресованный аппарату модем отправляет в локальную шину
- Этот пакет в зависимости от его содержания может быть или командой управления или данными
